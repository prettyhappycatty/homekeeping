<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="ja">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta http-equiv="content-style-type" content="text/css">
<meta http-equiv="content-script-type" content="text/javascript">

<link rel="stylesheet" type="text/css" href="../../../lib/extjs-4.1.1/resources/css/ext-all.css" />
<script type="text/javascript" src="../../../lib/extjs-4.1.1/ext-all-debug-w-comments.js"></script>
<script type="text/javascript" src="../../../lib/extjs-4.1.1/locale/ext-lang-ja.js"></script>

<script type="text/javascript">
<!--
Ext.require([
             'Ext.data.*',
             'Ext.grid.*'
         ]);

Ext.onReady(function() {

    Ext.define('Planet',{
        extend: 'Ext.data.Model',
        fields: [
            'name', 'diameter', 'orbital-period','rotation-period', 'satellites'
        ]
    });

	var store = Ext.create('Ext.data.Store', {
	     model: 'Planet',
	     proxy: {
	         type: 'ajax',
	         url: './planet.xml',
	         reader: {
	             type: 'xml',
	             root: 'solor-system',
	             record:'planet'
	         }
	     },
	     autoLoad: true
	 });

  // Ext.grid.GridPanelオブジェクトの生成
  var grid = new Ext.grid.GridPanel({
    store: store,   // 表示するデータ
    columns: [      // 各列の設定
      {header: "名前", width: 80, dataIndex: "name"},
      {header: "直径(km)", width: 120, sortable: true, dataIndex: "diameter"},
      {header: "公転周期(年)", width: 120, sortable: true, dataIndex: "orbital-period"},
      {header: "自転周期(日)", width: 120, sortable: true, dataIndex: "rotation-period"},
      {header: "衛星(個)", width: 80, sortable: true, dataIndex: "satellites"}
    ],
    width: 600,     // グリッドの幅
    height: 300,    // グリッドの高さ
    title: "太陽系",  // グリッドのタイトル
    renderTo: "gridcontainer"
  });

});
//-->
</script>

<style type="text/css">
body {
  margin: 5px;
  font-size: 10pt;
}
</style>

<title>XMLデータをグリッド表示する</title>
</head>
<body>
<!--
-->
<p>
XMLデータをグリッド表示します。
</p>

<div id="gridcontainer"></div>

</body>
</html>
